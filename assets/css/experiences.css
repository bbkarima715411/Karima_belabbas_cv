/* =========================================================
    EXPÉRIENCES — Frises horizontales pro (espacées, sans scrollbar)
   ========================================================= */
.wrap { max-width: 1300px; padding: 0 1rem 4rem; }

h1{
  color: var(--accent);
  margin: 0 0 2.2rem;
  text-align: center;
}

.section-title{
  position: relative;
  display: inline-block;
  margin: 0 0 1.4rem;
  color: var(--accent);
  font-size: clamp(1.3rem, 2vw, 1.8rem);
}
.section-title::after{
  content:"";
  position:absolute; left:0; right:0; bottom:-.4rem;
  height: 3px; border-radius: 3px;
  background: linear-gradient(90deg,
    color-mix(in oklab,var(--accent) 65%, transparent),
    var(--accent)
  );
  opacity:.7;
}

.tl-section{ margin-bottom: 3.2rem; }

.timeline-group{
  --rail: var(--accent);
  position: relative;
}

/* rangée de cartes */
.timeline-cards{
  display:flex; gap: 2rem; justify-content:center;
  padding: 2.6rem .8rem;                 /* gros espace pour décoller du rail */
  overflow-x: auto; scroll-behavior: smooth;
  scrollbar-width: none;                  /* Firefox masque */
  -ms-overflow-style: none;
}
.timeline-cards.no-scrollbar::-webkit-scrollbar{ display:none; } /* WebKit masque */
.timeline-cards::-webkit-scrollbar{ display:none; width:0; height:0; }

.timeline-cards .card{
  flex: 0 1 260px; max-width: 260px;
  background: color-mix(in oklab,var(--accent) 7%, var(--bg));
  border:1px solid color-mix(in oklab,var(--accent) 28%, transparent);
  border-radius: 14px;
  padding: 1rem 1rem 1.1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,.06);
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  position: relative;
}
.timeline-cards .card:hover{
  transform: translateY(-6px);
  border-color: var(--accent);
  box-shadow: 0 10px 24px rgba(160,32,240,.22);
}
.timeline-cards .card time{
  display:block; color:var(--accent); font-weight:800; margin-bottom:.35rem;
}
.timeline-cards .card h3{
  margin:.05rem 0 .3rem; font-size:1rem; letter-spacing:-.01em;
}
.timeline-cards .card p{
  margin:0; color:var(--muted); line-height:1.55; font-size:.92rem;
  text-wrap: pretty;
}

/* pastilles */
.timeline-group.exp .card{ margin-bottom: 2.4rem; }
.timeline-group.exp .card::after{
  content:""; position:absolute; left:50%; transform:translateX(-50%);
  bottom:-1.7rem; width:12px; height:12px; border-radius:50%;
  background: var(--rail);
  box-shadow: 0 0 0 6px color-mix(in oklab,var(--rail) 30%, transparent);
}

.timeline-group.edu{ --rail: color-mix(in oklab,var(--accent) 78%, white); }
.timeline-group.edu .card{ margin-top: 2.4rem; }
.timeline-group.edu .card::after{
  content:""; position:absolute; left:50%; transform:translateX(-50%);
  top:-1.7rem; width:12px; height:12px; border-radius:50%;
  background: var(--rail);
  box-shadow: 0 0 0 6px color-mix(in oklab,var(--rail) 30%, transparent);
}

/* rail + progrès */
.rail{ position: relative; height: 0; }
.timeline-group.exp .rail{ margin-top: -1.2rem; }
.timeline-group.edu .rail{ margin-top: .2rem; }

.rail::before{
  content:""; position:absolute; left:0; right:0; top:0;
  height:4px; border-radius:999px;
  background: color-mix(in oklab,var(--rail) 18%, var(--bg));
}
.rail .progress{
  position:absolute; left:0; top:0; height:4px; width:0%;
  border-radius:999px;
  background: linear-gradient(90deg, var(--rail), color-mix(in oklab,var(--rail) 70%, white));
  box-shadow: 0 0 12px color-mix(in oklab,var(--rail) 50%, transparent);
  transition: width .25s ease;
}

/* ===== Tooltips pro (CSS-only, contenu rempli par JS via data-tip) ===== */
.card[data-tip]::before{
  content: attr(data-tip);
  position:absolute; left:50%; transform:translateX(-50%);
  white-space: nowrap; pointer-events:none; z-index:3;
  background: color-mix(in oklab, var(--accent) 12%, var(--bg));
  color: var(--text);
  border:1px solid color-mix(in oklab,var(--accent) 45%, transparent);
  border-radius: 8px; padding:.35rem .6rem; font-size:.85rem;
  opacity:0; translate: 0 -6px; transition: opacity .2s ease, translate .2s ease;
  box-shadow: 0 8px 20px rgba(0,0,0,.12);
}
.card[data-tip]::after{
  content:""; position:absolute; left:50%; transform:translateX(-50%);
  border:7px solid transparent; z-index:3; opacity:0; transition: opacity .2s ease;
}

/* position de la bulle selon la frise */
.timeline-group.exp .card:hover::before{ bottom: calc(100% + 12px); opacity:1; translate: 0 0; }
.timeline-group.exp .card:hover::after{
  bottom: calc(100% + 2px);
  border-top-color: color-mix(in oklab, var(--accent) 12%, var(--bg));
  opacity:1;
}
.timeline-group.edu .card:hover::before{ top: calc(100% + 12px); opacity:1; translate: 0 0; }
.timeline-group.edu .card:hover::after{
  top: calc(100% + 2px);
  border-bottom-color: color-mix(in oklab, var(--accent) 12%, var(--bg));
  opacity:1;
}

/* Responsive */
@media (max-width: 820px){
  .timeline-cards{ gap: 1.2rem; padding: 2.2rem .6rem; }
  .timeline-cards .card{ flex-basis: 220px; max-width: 220px; }
}
